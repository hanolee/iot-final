{"ast":null,"code":"import{Box,Button,FormControl,InputLabel,MenuItem,Select,TextField,Typography}from'@mui/material';import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import useFestivalById from'@/hooks/festival/useFestivalById';import usePostCreateFacility from'@/hooks/festival/usePostCreateFacility';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const{naver}=window;const FestivalFacilityCreatePage=()=>{const{id}=useParams();const{data:festival}=useFestivalById(Number(id));const{mutate:create}=usePostCreateFacility(Number(id));const[name,setName]=useState('');const[description,setDescription]=useState('');const[latitude,setLatitude]=useState('');const[longitude,setLongitude]=useState('');const[type,setType]=useState('TOILET');// Default type set to 'TOILET'\nuseEffect(()=>{if(festival&&naver){const mapOptions={center:new naver.maps.LatLng(Number(festival.latitude),Number(festival.longitude)),zoom:10};const map=new naver.maps.Map('map',mapOptions);naver.maps.Event.addListener(map,'click',e=>{const lat=e.coord.lat();const lng=e.coord.lng();setLatitude(lat);setLongitude(lng);});}},[festival,latitude,longitude]);const handleSubmit=e=>{e.preventDefault();// Creating facility with the form data\ncreate({name,description,latitude,longitude,type// Include the selected type\n});};return/*#__PURE__*/_jsxs(Box,{sx:{padding:'20px'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"Create Facility\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{label:\"Name\",variant:\"outlined\",fullWidth:true,margin:\"normal\",value:name,onChange:e=>setName(e.target.value),required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Description\",variant:\"outlined\",fullWidth:true,margin:\"normal\",multiline:true,rows:4,value:description,onChange:e=>setDescription(e.target.value),required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Latitude\",variant:\"outlined\",fullWidth:true,margin:\"normal\",value:latitude,onChange:e=>setLatitude(e.target.value),required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Longitude\",variant:\"outlined\",fullWidth:true,margin:\"normal\",value:longitude,onChange:e=>setLongitude(e.target.value),required:true}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,margin:\"normal\",children:[/*#__PURE__*/_jsx(InputLabel,{id:\"facility-type-label\",children:\"Type\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"facility-type-label\",value:type,label:\"Type\",onChange:e=>setType(e.target.value),required:true,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"TOILET\",children:\"TOILET\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"INFO\",children:\"INFO\"})]})]}),/*#__PURE__*/_jsx(\"div\",{id:\"map\",style:{width:'100%',height:'400px',marginTop:'20px'}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",type:\"submit\",fullWidth:true,sx:{marginTop:'20px'},children:\"Create Facility\"})]})]});};export default FestivalFacilityCreatePage;","map":{"version":3,"names":["Box","Button","FormControl","InputLabel","MenuItem","Select","TextField","Typography","React","useEffect","useState","useParams","useFestivalById","usePostCreateFacility","jsx","_jsx","jsxs","_jsxs","naver","window","FestivalFacilityCreatePage","id","data","festival","Number","mutate","create","name","setName","description","setDescription","latitude","setLatitude","longitude","setLongitude","type","setType","mapOptions","center","maps","LatLng","zoom","map","Map","Event","addListener","e","lat","coord","lng","handleSubmit","preventDefault","sx","padding","children","variant","component","gutterBottom","onSubmit","label","fullWidth","margin","value","onChange","target","required","multiline","rows","labelId","style","width","height","marginTop","color"],"sources":["/Users/hano/dev/daru/daru-admin/src/pages/festival/FestivalFacilityCreatePage.tsx"],"sourcesContent":["import { Box, Button, FormControl, InputLabel, MenuItem, Select, TextField, Typography } from '@mui/material'\nimport React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport useFestivalById from '@/hooks/festival/useFestivalById'\nimport usePostCreateFacility from '@/hooks/festival/usePostCreateFacility'\n\nconst { naver } = window\n\nconst FestivalFacilityCreatePage = () => {\n  const { id } = useParams()\n  const { data: festival } = useFestivalById(Number(id))\n  const { mutate: create } = usePostCreateFacility(Number(id))\n\n  const [name, setName] = useState('')\n  const [description, setDescription] = useState('')\n  const [latitude, setLatitude] = useState('')\n  const [longitude, setLongitude] = useState('')\n  const [type, setType] = useState('TOILET') // Default type set to 'TOILET'\n\n  useEffect(() => {\n    if (festival && naver) {\n      const mapOptions = {\n        center: new naver.maps.LatLng(Number(festival.latitude), Number(festival.longitude)),\n        zoom: 10\n      }\n\n      const map = new naver.maps.Map('map', mapOptions)\n\n      naver.maps.Event.addListener(map, 'click', (e) => {\n        const lat = e.coord.lat()\n        const lng = e.coord.lng()\n        setLatitude(lat)\n        setLongitude(lng)\n      })\n    }\n  }, [festival, latitude, longitude])\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n\n    // Creating facility with the form data\n    create({\n      name,\n      description,\n      latitude,\n      longitude,\n      type // Include the selected type\n    })\n  }\n\n  return (\n    <Box sx={{ padding: '20px' }}>\n      <Typography\n        variant=\"h4\"\n        component=\"h1\"\n        gutterBottom>\n        Create Facility\n      </Typography>\n\n      <form onSubmit={handleSubmit}>\n        <TextField\n          label=\"Name\"\n          variant=\"outlined\"\n          fullWidth\n          margin=\"normal\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          required\n        />\n\n        <TextField\n          label=\"Description\"\n          variant=\"outlined\"\n          fullWidth\n          margin=\"normal\"\n          multiline\n          rows={4}\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          required\n        />\n\n        <TextField\n          label=\"Latitude\"\n          variant=\"outlined\"\n          fullWidth\n          margin=\"normal\"\n          value={latitude}\n          onChange={(e) => setLatitude(e.target.value)}\n          required\n        />\n\n        <TextField\n          label=\"Longitude\"\n          variant=\"outlined\"\n          fullWidth\n          margin=\"normal\"\n          value={longitude}\n          onChange={(e) => setLongitude(e.target.value)}\n          required\n        />\n\n        <FormControl\n          fullWidth\n          margin=\"normal\">\n          <InputLabel id=\"facility-type-label\">Type</InputLabel>\n          <Select\n            labelId=\"facility-type-label\"\n            value={type}\n            label=\"Type\"\n            onChange={(e) => setType(e.target.value)}\n            required\n          >\n            <MenuItem value=\"TOILET\">TOILET</MenuItem>\n            <MenuItem value=\"INFO\">INFO</MenuItem>\n          </Select>\n        </FormControl>\n\n        <div\n          id=\"map\"\n          style={{ width: '100%', height: '400px', marginTop: '20px' }}\n        ></div>\n\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          type=\"submit\"\n          fullWidth\n          sx={{ marginTop: '20px' }}\n        >\n          Create Facility\n        </Button>\n      </form>\n    </Box>\n  )\n}\n\nexport default FestivalFacilityCreatePage\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}