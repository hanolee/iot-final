{"ast":null,"code":"import{Button,CircularProgress,Paper,Switch,Table,TableBody,TableCell,TableContainer,TableHead,TableRow}from'@mui/material';import React,{useState}from'react';import{useNavigate}from'react-router-dom';import useDeleteTeahouseFilter from'@/hooks/teahouse/useDeleteTeahouseFilter';import usePatchTeahouseFilter from'@/hooks/teahouse/usePatchTeahouseFilter';import useTeahouseFilters from'@/hooks/teahouse/useTeahouseFilters';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const TeahouseFilterPage=()=>{const navigate=useNavigate();const{data:filters,isLoading,refetch}=useTeahouseFilters();console.log(filters);return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uCC3B\\uC9D1 \\uD544\\uD130 \\uD398\\uC774\\uC9C0\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigate('create'),children:\"\\uD544\\uD130 \\uB9CC\\uB4E4\\uAE30\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD604\\uC7AC \\uD544\\uD130\"}),isLoading&&/*#__PURE__*/_jsx(CircularProgress,{}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,style:{maxWidth:800},children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"teahouse filters table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"ID\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Category\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Title\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Show\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Priority\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\uC0AD\\uC81C\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:filters&&filters.map(filter=>/*#__PURE__*/_jsx(TeahouseFilter,{refresh:refetch,filter:filter},filter.id))})]})})]});};export default TeahouseFilterPage;const TeahouseFilter=_ref=>{let{filter,refresh}=_ref;const{mutate:patchTeahouseFilter}=usePatchTeahouseFilter();const{mutate:deleteFilter}=useDeleteTeahouseFilter();const[show,setShow]=useState(filter.show);const[edit,setEdit]=useState(false);const handleSwitchChange=async()=>{try{await patchTeahouseFilter({...filter,show:!show});setShow(!show);refresh();}catch(e){console.log(e);}};return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:filter.id}),/*#__PURE__*/_jsx(TableCell,{children:filter.category}),/*#__PURE__*/_jsx(TableCell,{children:filter.title}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Switch,{checked:show,onChange:handleSwitchChange})}),/*#__PURE__*/_jsx(TableCell,{children:filter.priority}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(Button,{onClick:async()=>{await deleteFilter({id:filter.id});refresh();},children:\"\\uC0AD\\uC81C\"}),!edit&&/*#__PURE__*/_jsx(Button,{onClick:()=>setEdit(true),children:\"\\uC218\\uC815\"}),edit&&/*#__PURE__*/_jsx(Button,{onClick:()=>setEdit(false),children:\"\\uC644\\uB8CC\"})]})]});};","map":{"version":3,"names":["Button","CircularProgress","Paper","Switch","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","React","useState","useNavigate","useDeleteTeahouseFilter","usePatchTeahouseFilter","useTeahouseFilters","jsx","_jsx","jsxs","_jsxs","TeahouseFilterPage","navigate","data","filters","isLoading","refetch","console","log","style","display","flexDirection","alignItems","children","onClick","component","maxWidth","map","filter","TeahouseFilter","refresh","id","_ref","mutate","patchTeahouseFilter","deleteFilter","show","setShow","edit","setEdit","handleSwitchChange","e","category","title","checked","onChange","priority"],"sources":["/Users/hano/dev/daru/daru-admin/src/pages/teahouse/TeahouseFilterPage.tsx"],"sourcesContent":["import { Button, CircularProgress, Paper, Switch, Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from '@mui/material'\nimport React, { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\n\nimport { TeahouseFilterModel } from '@/apis/teahouse/getTeahouseFilters'\nimport useDeleteTeahouseFilter from '@/hooks/teahouse/useDeleteTeahouseFilter'\nimport usePatchTeahouseFilter from '@/hooks/teahouse/usePatchTeahouseFilter'\nimport useTeahouseFilters from '@/hooks/teahouse/useTeahouseFilters'\n\nconst TeahouseFilterPage = () => {\n  const navigate = useNavigate()\n  const { data: filters, isLoading, refetch } = useTeahouseFilters()\n  console.log(filters)\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n      <h1>찻집 필터 페이지</h1>\n      <Button onClick={() => navigate('create')}>필터 만들기</Button>\n      <h1>현재 필터</h1>\n      {isLoading && <CircularProgress />}\n      <TableContainer\n        component={Paper}\n        style={{ maxWidth: 800 }}>\n        <Table aria-label=\"teahouse filters table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>ID</TableCell>\n              <TableCell>Category</TableCell>\n              <TableCell>Title</TableCell>\n              <TableCell>Show</TableCell>\n              <TableCell>Priority</TableCell>\n              <TableCell>삭제</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {filters && filters.map((filter) => (\n              <TeahouseFilter\n                key={filter.id}\n                refresh={refetch}\n                filter={filter} />\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  )\n}\nexport default TeahouseFilterPage\n\ntype TeahouseFilterProps = { filter: TeahouseFilterModel; refresh: () => void };\nconst TeahouseFilter = ({ filter, refresh }: TeahouseFilterProps) => {\n  const { mutate: patchTeahouseFilter } = usePatchTeahouseFilter()\n  const { mutate: deleteFilter } = useDeleteTeahouseFilter()\n  const [show, setShow] = useState(filter.show)\n  const [edit, setEdit] = useState(false)\n\n  const handleSwitchChange = async () => {\n    try {\n      await patchTeahouseFilter({ ...filter, show: !show })\n      setShow(!show)\n      refresh()\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  return (\n    <TableRow>\n      <TableCell>{filter.id}</TableCell>\n      <TableCell>{filter.category}</TableCell>\n      <TableCell>{filter.title}</TableCell>\n      <TableCell>\n        <Switch\n          checked={show}\n          onChange={handleSwitchChange}\n        />\n      </TableCell>\n      <TableCell>{filter.priority}</TableCell>\n      <TableCell>\n        <Button onClick={async () => {\n          await deleteFilter({ id: filter.id })\n          refresh()\n        }}>삭제</Button>\n        {(!edit) && <Button onClick={() => setEdit(true)}>수정</Button>}\n        {(edit) && <Button onClick={() => setEdit(false)}>완료</Button>}\n      </TableCell>\n    </TableRow>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}