{"ast":null,"code":"import{Button,Card,CardContent,CircularProgress,Typography}from'@mui/material';import dayjs from'dayjs';import{useNavigate}from'react-router-dom';import useFestivals from'@/hooks/festival/useFestivals';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const FestivalPage=()=>{const navigate=useNavigate();const{data:festivals,isLoading}=useFestivals();// 축제 상태 계산 함수\nconst getFestivalStatus=(openedAt,expiredAt)=>{const now=dayjs();const openDate=openedAt?dayjs(openedAt):null;const expireDate=expiredAt?dayjs(expiredAt):null;if(openDate&&expireDate){if(now.isBefore(openDate)){return'예정';}else if(now.isAfter(expireDate)){return'종료';}else{return'진행 중';}}return'날짜 정보 없음';};// 축제 기간을 문자열로 변환하는 함수\nconst formatFestivalPeriod=(openedAt,expiredAt)=>{const openDate=openedAt?dayjs(openedAt).format('YYYY.MM.DD'):'미정';const expireDate=expiredAt?dayjs(expiredAt).format('YYYY.MM.DD'):'미정';return\"\".concat(openDate,\" ~ \").concat(expireDate);};if(isLoading){return/*#__PURE__*/_jsx(CircularProgress,{style:{marginTop:'20px'}});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uCD95\\uC81C \\uAD00\\uB9AC\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",style:{backgroundColor:'#01c897',color:'white'},onClick:()=>navigate('create'),children:\"\\uCD95\\uC81C \\uC0DD\\uC131\"})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",style:{marginBottom:'10px'},children:\"\\uD604\\uC7AC \\uCD95\\uC81C \\uBAA9\\uB85D\"}),festivals&&festivals.length>0?festivals.map(festival=>{const status=getFestivalStatus(festival.openedAt,festival.expiredAt);const period=formatFestivalPeriod(festival.openedAt,festival.expiredAt);return/*#__PURE__*/_jsx(\"div\",{onClick:()=>navigate(\"\".concat(festival.id)),children:/*#__PURE__*/_jsx(Card,{style:{marginBottom:'15px',padding:'10px'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",gutterBottom:true,children:[festival.title,\" (\",festival.year,\")\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:festival.description}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",style:{marginTop:'10px'},children:[\"\\uC704\\uCE58: \",festival.locationLocal]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[\"\\uCC38\\uC5EC\\uBE44: \",festival.participationFee,\"\\uC6D0\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",style:{marginTop:'5px'},children:festival.reservationAvaliable?'예약 가능':'예약 불가능'}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",style:{marginTop:'10px',color:'#888'},children:[\"\\uAE30\\uAC04: \",period]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",style:{marginTop:'5px',color:status==='진행 중'?'green':status==='예정'?'blue':'red'},children:[\"\\uC0C1\\uD0DC: \",status]})]})})},festival.id);}):/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"textSecondary\",children:\"\\uB4F1\\uB85D\\uB41C \\uCD95\\uC81C\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]});};export default FestivalPage;","map":{"version":3,"names":["Button","Card","CardContent","CircularProgress","Typography","dayjs","useNavigate","useFestivals","jsx","_jsx","jsxs","_jsxs","FestivalPage","navigate","data","festivals","isLoading","getFestivalStatus","openedAt","expiredAt","now","openDate","expireDate","isBefore","isAfter","formatFestivalPeriod","format","concat","style","marginTop","padding","children","display","justifyContent","alignItems","marginBottom","variant","backgroundColor","color","onClick","length","map","festival","status","period","id","gutterBottom","title","year","description","locationLocal","participationFee","reservationAvaliable"],"sources":["/Users/hano/dev/snu/iot/iot-final/src/pages/festival/FestivalPage.tsx"],"sourcesContent":["import { Button, Card, CardContent, CircularProgress, Typography } from '@mui/material'\nimport dayjs from 'dayjs'\nimport { useNavigate } from 'react-router-dom'\n\nimport useFestivals from '@/hooks/festival/useFestivals'\n\nconst FestivalPage = () => {\n  const navigate = useNavigate()\n  const { data: festivals, isLoading } = useFestivals()\n\n  // 축제 상태 계산 함수\n  const getFestivalStatus = (openedAt: string | null, expiredAt: string | null) => {\n    const now = dayjs()\n    const openDate = openedAt ? dayjs(openedAt) : null\n    const expireDate = expiredAt ? dayjs(expiredAt) : null\n\n    if (openDate && expireDate) {\n      if (now.isBefore(openDate)) {\n        return '예정'\n      } else if (now.isAfter(expireDate)) {\n        return '종료'\n      } else {\n        return '진행 중'\n      }\n    }\n    return '날짜 정보 없음'\n  }\n\n  // 축제 기간을 문자열로 변환하는 함수\n  const formatFestivalPeriod = (openedAt: string | null, expiredAt: string | null) => {\n    const openDate = openedAt ? dayjs(openedAt).format('YYYY.MM.DD') : '미정'\n    const expireDate = expiredAt ? dayjs(expiredAt).format('YYYY.MM.DD') : '미정'\n    return `${openDate} ~ ${expireDate}`\n  }\n\n  if (isLoading) {\n    return <CircularProgress style={{ marginTop: '20px' }} />\n  }\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n        <h1>축제 관리</h1>\n        <Button\n          variant=\"contained\"\n          style={{ backgroundColor: '#01c897', color: 'white' }}\n          onClick={() => navigate('create')}\n        >\n          축제 생성\n        </Button>\n      </div>\n\n      <Typography\n        variant=\"h5\"\n        style={{ marginBottom: '10px' }}>\n        현재 축제 목록\n      </Typography>\n\n      {festivals && festivals.length > 0 ? (\n        festivals.map((festival) => {\n          const status = getFestivalStatus(festival.openedAt, festival.expiredAt)\n          const period = formatFestivalPeriod(festival.openedAt, festival.expiredAt)\n\n          return (\n            <div\n              key={festival.id}\n              onClick={() => navigate(`${festival.id}`)}>\n              <Card\n                style={{ marginBottom: '15px', padding: '10px' }}>\n                <CardContent>\n                  <Typography\n                    variant=\"h6\"\n                    gutterBottom>\n                    {festival.title} ({festival.year})\n                  </Typography>\n                  <Typography\n                    variant=\"body2\"\n                    color=\"textSecondary\">\n                    {festival.description}\n                  </Typography>\n                  <Typography\n                    variant=\"body1\"\n                    style={{ marginTop: '10px' }}>\n                  위치: {festival.locationLocal}\n                  </Typography>\n                  <Typography variant=\"body1\">\n                  참여비: {festival.participationFee}원\n                  </Typography>\n                  <Typography\n                    variant=\"body2\"\n                    style={{ marginTop: '5px' }}>\n                    {festival.reservationAvaliable ? '예약 가능' : '예약 불가능'}\n                  </Typography>\n                  <Typography\n                    variant=\"body2\"\n                    style={{ marginTop: '10px', color: '#888' }}>\n                  기간: {period}\n                  </Typography>\n                  <Typography\n                    variant=\"body2\"\n                    style={{ marginTop: '5px', color: status === '진행 중' ? 'green' : status === '예정' ? 'blue' : 'red' }}>\n                  상태: {status}\n                  </Typography>\n                </CardContent>\n              </Card>\n            </div>\n          )\n        })\n      ) : (\n        <Typography\n          variant=\"body1\"\n          color=\"textSecondary\">\n          등록된 축제가 없습니다.\n        </Typography>\n      )}\n    </div>\n  )\n}\n\nexport default FestivalPage\n"],"mappings":"AAAA,OAASA,MAAM,CAAEC,IAAI,CAAEC,WAAW,CAAEC,gBAAgB,CAAEC,UAAU,KAAQ,eAAe,CACvF,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,MAAO,CAAAC,YAAY,KAAM,+BAA+B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExD,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEQ,IAAI,CAAEC,SAAS,CAAEC,SAAU,CAAC,CAAGT,YAAY,CAAC,CAAC,CAErD;AACA,KAAM,CAAAU,iBAAiB,CAAGA,CAACC,QAAuB,CAAEC,SAAwB,GAAK,CAC/E,KAAM,CAAAC,GAAG,CAAGf,KAAK,CAAC,CAAC,CACnB,KAAM,CAAAgB,QAAQ,CAAGH,QAAQ,CAAGb,KAAK,CAACa,QAAQ,CAAC,CAAG,IAAI,CAClD,KAAM,CAAAI,UAAU,CAAGH,SAAS,CAAGd,KAAK,CAACc,SAAS,CAAC,CAAG,IAAI,CAEtD,GAAIE,QAAQ,EAAIC,UAAU,CAAE,CAC1B,GAAIF,GAAG,CAACG,QAAQ,CAACF,QAAQ,CAAC,CAAE,CAC1B,MAAO,IAAI,CACb,CAAC,IAAM,IAAID,GAAG,CAACI,OAAO,CAACF,UAAU,CAAC,CAAE,CAClC,MAAO,IAAI,CACb,CAAC,IAAM,CACL,MAAO,MAAM,CACf,CACF,CACA,MAAO,UAAU,CACnB,CAAC,CAED;AACA,KAAM,CAAAG,oBAAoB,CAAGA,CAACP,QAAuB,CAAEC,SAAwB,GAAK,CAClF,KAAM,CAAAE,QAAQ,CAAGH,QAAQ,CAAGb,KAAK,CAACa,QAAQ,CAAC,CAACQ,MAAM,CAAC,YAAY,CAAC,CAAG,IAAI,CACvE,KAAM,CAAAJ,UAAU,CAAGH,SAAS,CAAGd,KAAK,CAACc,SAAS,CAAC,CAACO,MAAM,CAAC,YAAY,CAAC,CAAG,IAAI,CAC3E,SAAAC,MAAA,CAAUN,QAAQ,QAAAM,MAAA,CAAML,UAAU,EACpC,CAAC,CAED,GAAIN,SAAS,CAAE,CACb,mBAAOP,IAAA,CAACN,gBAAgB,EAACyB,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAE,CAAC,CAC3D,CAEA,mBACElB,KAAA,QAAKiB,KAAK,CAAE,CAAEE,OAAO,CAAE,MAAO,CAAE,CAAAC,QAAA,eAC9BpB,KAAA,QAAKiB,KAAK,CAAE,CAAEI,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAQ,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAJ,QAAA,eAC3GtB,IAAA,OAAAsB,QAAA,CAAI,2BAAK,CAAI,CAAC,cACdtB,IAAA,CAACT,MAAM,EACLoC,OAAO,CAAC,WAAW,CACnBR,KAAK,CAAE,CAAES,eAAe,CAAE,SAAS,CAAEC,KAAK,CAAE,OAAQ,CAAE,CACtDC,OAAO,CAAEA,CAAA,GAAM1B,QAAQ,CAAC,QAAQ,CAAE,CAAAkB,QAAA,CACnC,2BAED,CAAQ,CAAC,EACN,CAAC,cAENtB,IAAA,CAACL,UAAU,EACTgC,OAAO,CAAC,IAAI,CACZR,KAAK,CAAE,CAAEO,YAAY,CAAE,MAAO,CAAE,CAAAJ,QAAA,CAAC,wCAEnC,CAAY,CAAC,CAEZhB,SAAS,EAAIA,SAAS,CAACyB,MAAM,CAAG,CAAC,CAChCzB,SAAS,CAAC0B,GAAG,CAAEC,QAAQ,EAAK,CAC1B,KAAM,CAAAC,MAAM,CAAG1B,iBAAiB,CAACyB,QAAQ,CAACxB,QAAQ,CAAEwB,QAAQ,CAACvB,SAAS,CAAC,CACvE,KAAM,CAAAyB,MAAM,CAAGnB,oBAAoB,CAACiB,QAAQ,CAACxB,QAAQ,CAAEwB,QAAQ,CAACvB,SAAS,CAAC,CAE1E,mBACEV,IAAA,QAEE8B,OAAO,CAAEA,CAAA,GAAM1B,QAAQ,IAAAc,MAAA,CAAIe,QAAQ,CAACG,EAAE,CAAE,CAAE,CAAAd,QAAA,cAC1CtB,IAAA,CAACR,IAAI,EACH2B,KAAK,CAAE,CAAEO,YAAY,CAAE,MAAM,CAAEL,OAAO,CAAE,MAAO,CAAE,CAAAC,QAAA,cACjDpB,KAAA,CAACT,WAAW,EAAA6B,QAAA,eACVpB,KAAA,CAACP,UAAU,EACTgC,OAAO,CAAC,IAAI,CACZU,YAAY,MAAAf,QAAA,EACXW,QAAQ,CAACK,KAAK,CAAC,IAAE,CAACL,QAAQ,CAACM,IAAI,CAAC,GACnC,EAAY,CAAC,cACbvC,IAAA,CAACL,UAAU,EACTgC,OAAO,CAAC,OAAO,CACfE,KAAK,CAAC,eAAe,CAAAP,QAAA,CACpBW,QAAQ,CAACO,WAAW,CACX,CAAC,cACbtC,KAAA,CAACP,UAAU,EACTgC,OAAO,CAAC,OAAO,CACfR,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAE,QAAA,EAAC,gBAC5B,CAACW,QAAQ,CAACQ,aAAa,EACf,CAAC,cACbvC,KAAA,CAACP,UAAU,EAACgC,OAAO,CAAC,OAAO,CAAAL,QAAA,EAAC,sBACvB,CAACW,QAAQ,CAACS,gBAAgB,CAAC,QAChC,EAAY,CAAC,cACb1C,IAAA,CAACL,UAAU,EACTgC,OAAO,CAAC,OAAO,CACfR,KAAK,CAAE,CAAEC,SAAS,CAAE,KAAM,CAAE,CAAAE,QAAA,CAC3BW,QAAQ,CAACU,oBAAoB,CAAG,OAAO,CAAG,QAAQ,CACzC,CAAC,cACbzC,KAAA,CAACP,UAAU,EACTgC,OAAO,CAAC,OAAO,CACfR,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAM,CAAES,KAAK,CAAE,MAAO,CAAE,CAAAP,QAAA,EAAC,gBAC3C,CAACa,MAAM,EACC,CAAC,cACbjC,KAAA,CAACP,UAAU,EACTgC,OAAO,CAAC,OAAO,CACfR,KAAK,CAAE,CAAEC,SAAS,CAAE,KAAK,CAAES,KAAK,CAAEK,MAAM,GAAK,MAAM,CAAG,OAAO,CAAGA,MAAM,GAAK,IAAI,CAAG,MAAM,CAAG,KAAM,CAAE,CAAAZ,QAAA,EAAC,gBAClG,CAACY,MAAM,EACC,CAAC,EACF,CAAC,CACV,CAAC,EAvCFD,QAAQ,CAACG,EAwCX,CAAC,CAEV,CAAC,CAAC,cAEFpC,IAAA,CAACL,UAAU,EACTgC,OAAO,CAAC,OAAO,CACfE,KAAK,CAAC,eAAe,CAAAP,QAAA,CAAC,iEAExB,CAAY,CACb,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}