{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/hano/dev/snu/iot/iot-final/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import styled from'@emotion/styled';import{useEffect,useRef,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const FestivalParticipatorCreatePage=()=>{const[companyName,setCompanyName]=useState('');const[boothNumber,setBoothNumber]=useState(1);const[boothDescription,setBoothDescription]=useState('');const[tea,setTea]=useState('');const[country,setCountry]=useState('KR');// 위치\nconst[latitude,setLatitude]=useState(0);const[longitude,setLongitude]=useState(0);const handleBoothNumberChange=e=>{if(/^\\d*$/.test(e.target.value)){setBoothNumber(Number(e.target.value));}};const[selectedMarkerInfo,setSelectedMarkerInfo]=useState(null);// Naver Map\nconst mapElement=useRef(null);const markerRef=useRef(null);// Generate random bicycle locations around Seoul National University\nconst generateRandomLocations=count=>{const baseLatitude=37.4599;const baseLongitude=126.9519;const locations=[];for(let i=0;i<count;i++){const randomLatitude=baseLatitude+(Math.random()-0.5)*0.01;const randomLongitude=baseLongitude+(Math.random()-0.5)*0.01;locations.push({latitude:randomLatitude,longitude:randomLongitude,timestamp:\"2024\\uB144 12\\uC6D4 9\\uC77C 12:\".concat(String(i).padStart(2,'0'),\":00\"),district:'관악구'});}return locations;};const bicycleLocations=generateRandomLocations(20);const[showAll,setShowAll]=useState(true);useEffect(()=>{if(!mapElement.current)return;const{naver}=window;if(!naver){console.error('네이버 지도 API가 로드되지 않았습니다.');return;}const mapOptions={center:new naver.maps.LatLng(37.4599,126.9519),// 서울대학교 중심\nzoom:15};const map=new naver.maps.Map(mapElement.current,mapOptions);// 표시할 위치 결정\nconst locationsToDisplay=showAll?bicycleLocations:[bicycleLocations[bicycleLocations.length-1]];// 자전거 위치 표시\nlocationsToDisplay.forEach(location=>{const marker=new naver.maps.Marker({position:new naver.maps.LatLng(location.latitude,location.longitude),title:\"\".concat(location.timestamp,\" - \").concat(location.district),map:map,icon:{url:'https://example.com/your-new-bicycle-icon.png',// Replace with your new bicycle icon URL\nscaledSize:new naver.maps.Size(20,20),// 사용자 정의 크기\norigin:new naver.maps.Point(0,0),anchor:new naver.maps.Point(10,20)// 마커의 하단 중앙을 기준으로 앵커\n}});const infoWindow=new naver.maps.InfoWindow({content:\"<div style=\\\"padding:5px; font-size:14px; font-weight:bold;\\\">\".concat(location.timestamp,\"<br>\").concat(location.district,\"</div>\"),borderColor:'#3f51b5',borderWidth:2});naver.maps.Event.addListener(marker,'click',function(){infoWindow.open(map,marker);setSelectedMarkerInfo(\"\".concat(location.timestamp,\" - \").concat(location.district));});});// 지도 클릭 이벤트 제거\n},[showAll]);return/*#__PURE__*/_jsx(PageWrapperCentered,{children:/*#__PURE__*/_jsxs(MapContainer,{children:[/*#__PURE__*/_jsxs(ButtonWrapper,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setShowAll(true),children:\"\\uBAA8\\uB4E0 \\uC704\\uCE58 \\uBCF4\\uAE30\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setShowAll(false),children:\"\\uAC00\\uC7A5 \\uCD5C\\uADFC \\uC704\\uCE58 \\uBCF4\\uAE30\"})]}),/*#__PURE__*/_jsx(\"div\",{ref:mapElement,style:{width:'100%',height:'80vh'}// 버튼을 위한 높이 조정\n}),selectedMarkerInfo&&/*#__PURE__*/_jsx(MarkerInfo,{children:/*#__PURE__*/_jsx(\"p\",{children:selectedMarkerInfo})})]})});};export default FestivalParticipatorCreatePage;// Styled components\nconst PageWrapperCentered=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 100vh;\\n  background-color: #f4f4f9;\\n\"])));const MapContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 100%;\\n  height: 80vh;\\n\"])));const ButtonWrapper=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 10px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  display: flex;\\n  justify-content: center;\\n  z-index: 10;\\n\"])));const Button=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  margin: 0 10px;\\n  padding: 10px 20px;\\n  font-size: 16px;\\n  font-weight: bold;\\n  background-color: #3f51b5;\\n  color: white;\\n  border: none;\\n  border-radius: 5px;\\n  cursor: pointer;\\n  &:hover {\\n    background-color: #2c387e;\\n  }\\n\"])));const MarkerInfo=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  bottom: 10px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  padding: 10px;\\n  background-color: #f4f4f9;\\n  border-radius: 5px;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\\n  text-align: center;\\n  font-size: 16px;\\n  font-weight: bold;\\n  z-index: 10;\\n\"])));","map":{"version":3,"names":["styled","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","FestivalParticipatorCreatePage","companyName","setCompanyName","boothNumber","setBoothNumber","boothDescription","setBoothDescription","tea","setTea","country","setCountry","latitude","setLatitude","longitude","setLongitude","handleBoothNumberChange","e","test","target","value","Number","selectedMarkerInfo","setSelectedMarkerInfo","mapElement","markerRef","generateRandomLocations","count","baseLatitude","baseLongitude","locations","i","randomLatitude","Math","random","randomLongitude","push","timestamp","concat","String","padStart","district","bicycleLocations","showAll","setShowAll","current","naver","window","console","error","mapOptions","center","maps","LatLng","zoom","map","Map","locationsToDisplay","length","forEach","location","marker","Marker","position","title","icon","url","scaledSize","Size","origin","Point","anchor","infoWindow","InfoWindow","content","borderColor","borderWidth","Event","addListener","open","PageWrapperCentered","children","MapContainer","ButtonWrapper","Button","onClick","ref","style","width","height","MarkerInfo","div","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","button","_templateObject4","_templateObject5"],"sources":["/Users/hano/dev/snu/iot/iot-final/src/pages/festival/FestivalParticipatorCreatePage.tsx"],"sourcesContent":["import styled from '@emotion/styled'\nimport { useEffect, useRef, useState } from 'react'\n\nconst FestivalParticipatorCreatePage = () => {\n  const [companyName, setCompanyName] = useState('')\n  const [boothNumber, setBoothNumber] = useState<number>(1)\n  const [boothDescription, setBoothDescription] = useState('')\n  const [tea, setTea] = useState('')\n  const [country, setCountry] = useState<'KR' | 'CN' | 'JP' | 'LK' | 'TW' | 'US'>('KR')\n  // 위치\n  const [latitude, setLatitude] = useState(0)\n  const [longitude, setLongitude] = useState(0)\n\n  const handleBoothNumberChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (/^\\d*$/.test(e.target.value)) {\n      setBoothNumber(Number(e.target.value))\n    }\n  }\n\n  const [selectedMarkerInfo, setSelectedMarkerInfo] = useState<string | null>(null)\n\n  // Naver Map\n  const mapElement = useRef<HTMLDivElement>(null)\n  const markerRef = useRef<naver.maps.Marker | null>(null)\n\n  // Generate random bicycle locations around Seoul National University\n  const generateRandomLocations = (count: number) => {\n    const baseLatitude = 37.4599\n    const baseLongitude = 126.9519\n    const locations = []\n\n    for (let i = 0; i < count; i++) {\n      const randomLatitude = baseLatitude + (Math.random() - 0.5) * 0.01\n      const randomLongitude = baseLongitude + (Math.random() - 0.5) * 0.01\n      locations.push({\n        latitude: randomLatitude,\n        longitude: randomLongitude,\n        timestamp: `2024년 12월 9일 12:${String(i).padStart(2, '0')}:00`,\n        district: '관악구'\n      })\n    }\n\n    return locations\n  }\n\n  const bicycleLocations = generateRandomLocations(20)\n\n  const [showAll, setShowAll] = useState(true)\n\n  useEffect(() => {\n    if (!mapElement.current) return\n\n    const { naver } = window\n\n    if (!naver) {\n      console.error('네이버 지도 API가 로드되지 않았습니다.')\n      return\n    }\n\n    const mapOptions: naver.maps.MapOptions = {\n      center: new naver.maps.LatLng(37.4599, 126.9519), // 서울대학교 중심\n      zoom: 15\n    }\n\n    const map = new naver.maps.Map(mapElement.current, mapOptions)\n\n    // 표시할 위치 결정\n    const locationsToDisplay = showAll ? bicycleLocations : [bicycleLocations[bicycleLocations.length - 1]]\n\n    // 자전거 위치 표시\n    locationsToDisplay.forEach((location) => {\n      const marker = new naver.maps.Marker({\n        position: new naver.maps.LatLng(location.latitude, location.longitude),\n        title: `${location.timestamp} - ${location.district}`,\n        map: map,\n        icon: {\n          url: 'https://example.com/your-new-bicycle-icon.png', // Replace with your new bicycle icon URL\n          scaledSize: new naver.maps.Size(20, 20), // 사용자 정의 크기\n          origin: new naver.maps.Point(0, 0),\n          anchor: new naver.maps.Point(10, 20) // 마커의 하단 중앙을 기준으로 앵커\n        }\n      })\n\n      const infoWindow = new naver.maps.InfoWindow({\n        content: `<div style=\"padding:5px; font-size:14px; font-weight:bold;\">${location.timestamp}<br>${location.district}</div>`,\n        borderColor: '#3f51b5',\n        borderWidth: 2\n      })\n\n      naver.maps.Event.addListener(marker, 'click', function () {\n        infoWindow.open(map, marker)\n        setSelectedMarkerInfo(`${location.timestamp} - ${location.district}`)\n      })\n    })\n\n    // 지도 클릭 이벤트 제거\n  }, [showAll])\n\n  return (\n    <PageWrapperCentered>\n      <MapContainer>\n        <ButtonWrapper>\n          <Button onClick={() => setShowAll(true)}>모든 위치 보기</Button>\n          <Button onClick={() => setShowAll(false)}>가장 최근 위치 보기</Button>\n        </ButtonWrapper>\n        <div\n          ref={mapElement}\n          style={{ width: '100%', height: '80vh' }} // 버튼을 위한 높이 조정\n        />\n        {selectedMarkerInfo && (\n          <MarkerInfo>\n            <p>{selectedMarkerInfo}</p>\n          </MarkerInfo>\n        )}\n      </MapContainer>\n    </PageWrapperCentered>\n  )\n}\n\nexport default FestivalParticipatorCreatePage\n\n// Styled components\nconst PageWrapperCentered = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background-color: #f4f4f9;\n`\n\nconst MapContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 80vh;\n`\n\nconst ButtonWrapper = styled.div`\n  position: absolute;\n  top: 10px;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  justify-content: center;\n  z-index: 10;\n`\n\nconst Button = styled.button`\n  margin: 0 10px;\n  padding: 10px 20px;\n  font-size: 16px;\n  font-weight: bold;\n  background-color: #3f51b5;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  &:hover {\n    background-color: #2c387e;\n  }\n`\n\nconst MarkerInfo = styled.div`\n  position: absolute;\n  bottom: 10px;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 10px;\n  background-color: #f4f4f9;\n  border-radius: 5px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  text-align: center;\n  font-size: 16px;\n  font-weight: bold;\n  z-index: 10;\n`\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}